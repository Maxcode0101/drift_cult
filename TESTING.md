# Testing

## Code Validation

### HTML

| Directory | File | URL | Screenshot | Notes |
| --- | --- | --- | --- | --- |
| store | [home.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/home.html) | [https://driftcult.art/](https://driftcult.art/) | ![screenshot](documentation/validation/html-store-home.png) | ✅ Validated |
| store | [shop.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/shop.html) | [https://driftcult.art/store/shop/](https://driftcult.art/store/shop/) | ![screenshot](documentation/validation/html-store-shop.png) | ✅ Validated |
| store | [product_detail.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/product_detail.html) | [https://driftcult.art/store/product/4/](https://driftcult.art/store/product/4/) | ![screenshot](documentation/validation/store-product_detail.png) | ✅ Validated |
| store | [about.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/about.html) | [https://driftcult.art/about/](https://driftcult.art/about/) | ![screenshot](documentation/validation/html-store-about.png) | ✅ Validated |
| store | [contact.html](https://github.com/Maxcode0101/drift_cult/blob/main/core/templates/core/contact.html) | [https://driftcult.art/contact/](https://driftcult.art/contact/) | ![screenshot](documentation/validation/html-core-contact.png) | ✅ Validated |
| store | [community.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/community.html) | [https://driftcult.art/community/](https://driftcult.art/community/) | ![screenshot](documentation/validation/html-store-community.png) | ✅ Validated |
| store | [faq.html](https://github.com/Maxcode0101/drift_cult/blob/main/core/templates/core/faq.html) | [https://driftcult.art/faq/](https://driftcult.art/faq/) | ![screenshot](documentation/validation/html-core-faq.png) | ✅ Validated |
| store | [returns.html](https://github.com/Maxcode0101/drift_cult/blob/main/core/templates/core/returns.html) | [https://driftcult.art/returns/](https://driftcult.art/returns/) | ![screenshot](documentation/validation/html-core-returns.png) | ✅ Validated |
| store | [404.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/404.html) | [https://driftcult.art/thispagedoesnotexist/](https://driftcult.art/thispagedoesnotexist/) | ![screenshot](documentation/validation/html-store-404.png) | ✅ Validated |
| store | [cart.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/cart.html) | [https://driftcult.art/cart/](https://driftcult.art/cart/) | ![screenshot](documentation/validation/html-store-cart.png) | Auth required. ✅ Validated |
| store | [checkout.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/checkout.html) | [https://driftcult.art/checkout/](https://driftcult.art/checkout/) | ![screenshot](documentation/validation/html-store-checkout.png) | Auth required. ✅ Validated |
| store | [order_confirmation.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/order_confirmation.html) | [https://driftcult.art/checkout/success/](https://driftcult.art/checkout/success/) | ![screenshot](documentation/validation/html-store-order_confirmation.png) | Auth required. ✅ Validated |
| store | [profile.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/profile.html) | [https://driftcult.art/profile/](https://driftcult.art/profile/) | ![screenshot](documentation/validation/html-store-profile.png) | Auth required. ✅ Validated |
| store | [admin_dashboard.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/admin_dashboard.html) | [https://driftcult.art/store/admin-dashboard/](https://driftcult.art/store/admin-dashboard/) | ![screenshot](documentation/validation/html-store-admin_dashboard.png) | Staff only. ✅ Validated |
| store | [admin_order_list.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/admin_order_list.html) | [https://driftcult.art/store/admin-dashboard/orders/](https://driftcult.art/store/admin-dashboard/orders/) | ![screenshot](documentation/validation/html-store-admin_order_list.png) | Staff only. ✅ Validated |
| store | [admin_order_detail.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/admin_order_detail.html) | https://driftcult.art/store/admin-dashboard/orders/1/` | ![screenshot](documentation/validation/html-store-admin_order_detail.png) | Staff only. ✅ Validated |
| store | [add_product_sizes.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/add_product_sizes.html) | https://driftcult.art/store/product/black-classic-trunks/add-sizes/` | ![screenshot](documentation/validation/html-store-add_product_sizes.png) | Staff only. ✅ Validated |
| store | [product_form.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/product_form.html) | [https://driftcult.art/store/admin-dashboard/add-product/](https://driftcult.art/store/admin-dashboard/add-product/) | ![screenshot](documentation/validation/html-store-product_form.png) | Staff only. ✅ Validated |
| store | [product_confirm_delete.html](https://github.com/Maxcode0101/drift_cult/blob/main/store/templates/store/product_confirm_delete.html) | https://driftcult.art/store/admin-dashboard/delete-product/3/` | ![screenshot](documentation/validation/html-store-product_confirm_delete.png) | Staff only. ✅ Validated |


### CSS

I have used the recommended [CSS Jigsaw Validator](https://jigsaw.w3.org/css-validator) to validate all of my CSS files.

| Directory | File | URL | Screenshot | Notes |
| --- | --- | --- | --- | --- |
| static | [community.css](https://github.com/Maxcode0101/drift_cult/blob/main/static/css/community.css) | [Validate](https://jigsaw.w3.org/css-validator/validator?uri=https://driftcult.art/static/css/community.css) | ![screenshot](documentation/validation/css-static-community.png) | Valid – no errors |
| store | [custom.css](https://github.com/Maxcode0101/drift_cult/blob/main/store/static/css/custom.css) | [Validate](https://jigsaw.w3.org/css-validator/validator?uri=https://driftcult.art/static/css/custom.css) | ![screenshot](documentation/validation/css-store-custom.png) | Valid – no errors |


### JS

| Directory | File | URL | Screenshot | Notes |
| --- | --- | --- | --- | --- |
| store | [newsletter.js](https://github.com/Maxcode0101/drift_cult/blob/main/store/static/js/newsletter.js) | N/A | ![screenshot](documentation/validation/js-store-newsletter.png) | Bootstrap flagged as undefined (expected) |


### Python

| Directory | File | URL | Screenshot | Notes |
| --- | --- | --- | --- | --- |
| core | [views.py](https://github.com/Maxcode0101/drift_cult/blob/main/core/views.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Maxcode0101/drift_cult/main/core/views.py) | ![screenshot](documentation/validation/py-core-views.png) | All PEP8 issues fixed including E501 line lengths and html_message formatting |
| store | [views.py](https://github.com/Maxcode0101/drift_cult/blob/main/store/views.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Maxcode0101/drift_cult/main/store/views.py) | ![screenshot](documentation/validation/py-store-views.png) | All issues fixed – clean validation |
| store | [models.py](https://github.com/Maxcode0101/drift_cult/blob/main/store/models.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Maxcode0101/drift_cult/main/store/models.py) | ![screenshot](documentation/validation/py-store-models.png) | No issues found |
| store | [forms.py](https://github.com/Maxcode0101/drift_cult/blob/main/store/forms.py) | ✅ No issues after fixing PEP8 warnings | ![screenshot](documentation/validation/py-store-forms.png) | - |
| store | [admin.py](https://github.com/Maxcode0101/drift_cult/blob/main/store/admin.py) | https://pep8ci.herokuapp.com/ | ![screenshot](documentation/validation/pep8-store-admin.png) | No PEP8 errors |
| store | [context_processors.py](https://github.com/Maxcode0101/drift_cult/blob/main/store/context_processors.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Maxcode0101/drift_cult/main/store/context_processors.py) | ![screenshot](documentation/validation/py-store-context_processors.png) | No errors after refactoring |
| store | [forms.py](https://github.com/Maxcode0101/drift_cult/blob/main/store/forms.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Maxcode0101/drift_cult/main/
| core | [emails.py](https://github.com/Maxcode0101/drift_cult/blob/main/core/emails.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Maxcode0101/drift_cult/main/core/emails.py) | ![screenshot](documentation/validation/py-core-emails.png) | No issues after linting. |
| core | [signals.py](https://github.com/Maxcode0101/drift_cult/blob/main/core/signals.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Maxcode0101/drift_cult/main/core/signals.py) | ![screenshot](documentation/validation/py-core-signals.png) | Clean after fixes |
| core | [urls.py](https://github.com/Maxcode0101/drift_cult/blob/main/core/urls.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Maxcode0101/drift_cult/main/core/urls.py) | ![screenshot](documentation/validation/py-core-urls.png) | No issues after formatting |
| drift_cult | [urls.py](https://github.com/Maxcode0101/drift_cult/blob/main/drift_cult/urls.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Maxcode0101/drift_cult/main/drift_cult/urls.py) | ![screenshot](documentation/validation/py-drift_cult-urls.png) | PEP8 compliant |
| store | [sitemaps.py](https://github.com/Maxcode0101/drift_cult/blob/main/store/sitemaps.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Maxcode0101/drift_cult/main/store/sitemaps.py) | ![screenshot](documentation/validation/py-store-sitemaps.png) | No issues after fixing |
| store | [urls.py](https://github.com/Maxcode0101/drift_cult/blob/main/store/urls.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Maxcode0101/drift_cult/main/store/urls.py) | ![screenshot](documentation/validation/py-store-urls.png) | No issues after fixing |



## Responsiveness

I've tested my deployed project to check for responsiveness issues.

| Page | Mobile | Tablet | Desktop | Notes |mobile-
| --- | --- | --- | --- | --- |
| Register | ![screenshot](documentation/responsiveness/mobile-register.png) | ![screenshot](documentation/responsiveness/tablet-register.png) | ![screenshot](documentation/responsiveness/desktop-register.png) | Works as expected |
| Login | ![screenshot](documentation/responsiveness/mobile-login.png) | ![screenshot](documentation/responsiveness/tablet-login.png) | ![screenshot](documentation/responsiveness/desktop-login.png) | Works as expected |
| Profile | ![screenshot](documentation/responsiveness/mobile-profile.png) | ![screenshot](documentation/responsiveness/tablet-profile.png) | ![screenshot](documentation/responsiveness/desktop-profile.png) | Works as expected |
| Home | ![screenshot](documentation/responsiveness/mobile-home.png) | ![screenshot](documentation/responsiveness/tablet-home.png) | ![screenshot](documentation/responsiveness/desktop-home.png) | Works as expected |
| Products | ![screenshot](documentation/responsiveness/mobile-products.png) | ![screenshot](documentation/responsiveness/tablet-products.png) | ![screenshot](documentation/responsiveness/desktop-products.png) | Works as expected |
| Product Details | ![screenshot](documentation/responsiveness/mobile-product-details.png) | ![screenshot](documentation/responsiveness/tablet-product-details.png) | ![screenshot](documentation/responsiveness/desktop-product-details.png) | Works as expected |
| Bag | ![screenshot](documentation/responsiveness/mobile-bag.png) | ![screenshot](documentation/responsiveness/tablet-bag.png) | ![screenshot](documentation/responsiveness/desktop-bag.png) | Works as expected |
| Checkout | ![screenshot](documentation/responsiveness/mobile-checkout.png) | ![screenshot](documentation/responsiveness/tablet-checkout.png) | ![screenshot](documentation/responsiveness/desktop-checkout.png) | Works as expected |
| Checkout Success | ![screenshot](documentation/responsiveness/mobile-checkout-success.png) | ![screenshot](documentation/responsiveness/tablet-checkout-success.png) | ![screenshot](documentation/responsiveness/desktop-checkout-success.png) | Works as expected |
| Add Product | ![screenshot](documentation/responsiveness/mobile-add-product.png) | ![screenshot](documentation/responsiveness/tablet-add-product.png) | ![screenshot](documentation/responsiveness/desktop-add-product.png) | Works as expected |
| Edit Product | ![screenshot](documentation/responsiveness/mobile-edit-product.png) | ![screenshot](documentation/responsiveness/tablet-edit-product.png) | ![screenshot](documentation/responsiveness/desktop-edit-product.png) | Works as expected |
| Newsletter | ![screenshot](documentation/responsiveness/mobile-newsletter.png) | ![screenshot](documentation/responsiveness/tablet-newsletter.png) | ![screenshot](documentation/responsiveness/desktop-newsletter.png) | Works as expected |
| Contact | ![screenshot](documentation/responsiveness/mobile-contact.png) | ![screenshot](documentation/responsiveness/tablet-contact.png) | ![screenshot](documentation/responsiveness/desktop-contact.png) | Works as expected |
| 404 | ![screenshot](documentation/responsiveness/mobile-404.png) | ![screenshot](documentation/responsiveness/tablet-404.png) | ![screenshot](documentation/responsiveness/desktop-404.png) | Works as expected |


## Defensive Programming

Defensive programming was manually tested with the below user acceptance testing:

| Page | Expectation | Test | Result | Screenshot |
| --- | --- | --- | --- | --- |
| Products | Feature is expected to allow users to browse products without registration. | Opened product pages as a guest user. | Products were fully accessible without requiring registration. | ![screenshot](documentation/defensive/products.png) |
| | Feature is expected to sort products by category. | Tested sorting options for category (T-Shirts) | Sorting worked correctly for all options. | ![screenshot](documentation/defensive/sorting.png) |
| | Feature is expected to show detailed product information. | Clicked on individual products to view details. | Product details (description, price, image) were displayed correctly. | ![screenshot](documentation/defensive/product-details.png) |
| Shopping Cart | Feature is expected to allow customers to add items to the cart with quantity controls. | Added products to the cart and adjusted quantities. | Items were added successfully, and quantities updated as expected. | ![screenshot](documentation/defensive/add-to-cart.png) |
| | Feature is expected to allow customers to view and manage their cart. | Opened the cart page and edited cart contents. | Cart contents were displayed, updated, and removed correctly. | ![screenshot](documentation/defensive/manage-cart.png) |
| Checkout | Feature is expected to display cart items, grand total, and input fields for checkout. | Proceeded to checkout with items in the cart. | Checkout page displayed cart items, total, and input fields as expected. | ![screenshot](documentation/defensive/checkout.png) |
| | Feature is expected to allow secure payment via Stripe. | Entered valid card details using Stripe at checkout. | Payment was processed securely, and an order confirmation page was displayed. | ![screenshot](documentation/defensive/stripe-payment.png) |
| | Feature is expected to send a confirmation email after purchase. | Completed a purchase and checked email inbox. | Confirmation email was received with order details. | ![screenshot](documentation/defensive/confirmation-email.png) |
| | Feature is expected to display an order confirmation page with an order number. | Completed a purchase. | Order confirmation page displayed successfully with an order number. | ![screenshot](documentation/defensive/order-confirmation.png) |
| Account Management | Feature is expected to allow returning customers to log in and view past orders. | Logged in as a returning customer and accessed order history. | Past orders were displayed correctly in the account section. | ![screenshot](documentation/defensive/order-history.png) |
| Admin Features | Feature is expected to allow the site owner to create new products. | Created new products with valid data (name, price, description, image, category). | Products were added successfully and displayed on the site. | ![screenshot](documentation/defensive/create-product.png) |
| | Feature is expected to allow the site owner to update product details. | Edited product details as an admin user. | Product updates were saved and displayed correctly. | ![screenshot](documentation/defensive/update-product.png) |
| | Feature is expected to allow the site owner to delete products. | Deleted a product from the inventory. | Product was removed successfully from the site, after being prompted to confirm first. | ![screenshot](documentation/defensive/delete-product.png) |
| Orders | Feature is expected to allow the site owner to view all orders placed. | Accessed the orders dashboard as an admin user. | All orders were displayed correctly. | ![screenshot](documentation/defensive/view-orders.png) |
| Newsletter | Feature is expected to allow users to sign up for the newsletter. | Submitted valid email addresses for newsletter registration. | Email addresses were successfully added to the newsletter list. | ![screenshot](documentation/defensive/newsletter.png) |
| 404 Error Page | Feature is expected to display a 404 error page for non-existent pages. | Navigated to an invalid URL (e.g., `/test`). | A custom 404 error page was displayed as expected. | ![screenshot](documentation/defensive/404.png) |


## Bugs

[![GitHub issue custom search](https://img.shields.io/github/issues-search?query=repo%3AMaxcode0101%2Fdrift_cult%20label%3Abug&label=bugs)](https://www.github.com/Maxcode0101/drift_cult/issues?q=is%3Aissue+is%3Aclosed+label%3Abug)

I've used [GitHub Issues](https://www.github.com/Maxcode0101/drift_cult/issues) to track and manage bugs and issues during the development stages of my project.

All previously closed/fixed bugs can be tracked [here](https://www.github.com/Maxcode0101/drift_cult/issues?q=is%3Aissue+is%3Aclosed+label%3Abug).

![screenshot](documentation/bugs/gh-issues-closed.png)


---


### Fixed Bugs

| Description | 
| Checkout order confirmation displayed incorrect product data, totals, and sometimes a 0.00€ amount due to broken cart clearing and session logic after payment. | 
| Stripe webhook wasn't updating orders as paid or sending confirmation emails because `core/views.py` wasn't correctly wired and order ID wasn't passed to metadata. | 
| HTML meta tag duplication caused W3C validation errors (`<meta name="description">` appeared twice when extra_meta was used without overriding base.html). | 
| `admin_order_detail.html` had an invalid `for` attribute in a `<label>` that didn't match any visible input ID, causing a validation error. |
| Form controls in `update_cart_quantity` and `product_form` were not correctly validated for min values, leading to bad cart behavior. | 
| Newsletter signup email handler had two duplicate view definitions causing a silent override. This broke email notifications until fixed. |
| Python files had multiple PEP8 errors including long lines, missing newlines, and incorrect comment spacing. These were fixed using the PEP8 CI validator. | 
| Sitemap.xml returned a 500 error due to unordered Product queryset in `ProductSitemap`. |
| `robots.txt` and `404.html` were accidentally deleted during a full file overwrite. This was recovered from Git and restored to working state. | 
---

### Unfixed Bugs

[![GitHub issues](https://img.shields.io/github/issues/Maxcode0101/drift_cult)](https://www.github.com/Maxcode0101/drift_cult/issues)

Any remaining open issues can be tracked [here](https://www.github.com/Maxcode0101/drift_cult/issues).

![screenshot](documentation/bugs/gh-issues-open.png)

---

### Known Issues

| Issue | Screenshot |
| --- | --- |
| On devices smaller than 375px, the page starts to have horizontal `overflow-x` scrolling. | ![screenshot](documentation/issues/overflow.png) |
| When validating HTML with a semantic `<section>` element, the validator warns about lacking a header `h2-h6`. This is acceptable. | ![screenshot](documentation/issues/section-header.png) |
| Validation errors on "signup.html" coming from the Django Allauth package. | ![screenshot](documentation/issues/allauth.png) |
| With a known order-number, users can brute-force "checkout_success.html" and see potentially sensitive information. | ![screenshot](documentation/issues/checkout-success.png) |


> [!IMPORTANT]
> There are no remaining bugs that I am aware of, though, even after thorough testing, I cannot rule out the possibility.
